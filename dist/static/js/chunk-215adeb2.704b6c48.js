(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-215adeb2"],{"2bb8":function(t,e,o){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,o,i){return e=e||"&",o=o||"=",null===t&&(t=void 0),"object"===typeof t?a(l(t),(function(l){var i=encodeURIComponent(n(l))+o;return r(t[l])?a(t[l],(function(t){return i+encodeURIComponent(n(t))})).join(e):i+encodeURIComponent(n(t[l]))})).join(e):i?encodeURIComponent(n(i))+o+encodeURIComponent(n(t)):""};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var o=[],n=0;n<t.length;n++)o.push(e(t[n],n));return o}var l=Object.keys||function(t){var e=[];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.push(o);return e}},"5ee4":function(t,e,o){"use strict";e.decode=e.parse=o("a2d3"),e.encode=e.stringify=o("2bb8")},a2d3:function(t,e,o){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,o,a){e=e||"&",o=o||"=";var l={};if("string"!==typeof t||0===t.length)return l;var i=/\+/g;t=t.split(e);var s=1e3;a&&"number"===typeof a.maxKeys&&(s=a.maxKeys);var c=t.length;s>0&&c>s&&(c=s);for(var u=0;u<c;++u){var p,d,f,m,v=t[u].replace(i,"%20"),b=v.indexOf(o);b>=0?(p=v.substr(0,b),d=v.substr(b+1)):(p=v,d=""),f=decodeURIComponent(p),m=decodeURIComponent(d),n(l,f)?r(l[f])?l[f].push(m):l[f]=[l[f],m]:l[f]=m}return l};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},dbf8:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t._v("\n    产品管理\n    "),o("br"),o("br"),t._v(" "),o("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.toAddHandler}},[t._v("添加")]),t._v(" "),o("el-button",{attrs:{type:"danger",size:"small"}},[t._v("批量审核")]),t._v(" "),o("br"),t._v(" "),o("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.products,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),o("el-table-column",{attrs:{label:"编号",prop:"id",fixed:"left"}}),t._v(" "),o("el-table-column",{attrs:{label:"产品名称",prop:"name",fixed:"left"}}),t._v(" "),o("el-table-column",{attrs:{label:"价格",prop:"price",fixed:"left"}}),t._v(" "),o("el-table-column",{attrs:{label:"描述",prop:"description"}}),t._v(" "),o("el-table-column",{attrs:{label:"所属产品",prop:"categoryId"}}),t._v(" "),o("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("a",{attrs:{href:""},on:{click:function(o){return o.preventDefault(),t.toDeleteHandler(e.row.id)}}},[o("i",{staticClass:"el-icon-delete"})]),t._v(" "),o("a",{attrs:{href:""},on:{click:function(o){return o.preventDefault(),t.toUpdateHandler(e.row)}}},[o("i",{staticClass:"el-icon-edit"})]),t._v(" "),o("a",{attrs:{href:""},on:{click:function(o){return o.preventDefault(),t.toProductDetailHandler(e.row.id)}}},[t._v("详情")])]}}])})],1),t._v(" "),o("el-dialog",{attrs:{title:t.title,visible:t.visible,width:"60%"},on:{"update:visible":function(e){t.visible=e}}},[o("el-form",{attrs:{model:t.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"名称"}},[o("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"价格"}},[o("el-input",{attrs:{type:"number"},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"所属栏目"}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},t._l(t.options,(function(t){return o("el-option",{key:t.value,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),o("el-form-item",{attrs:{label:"介绍"}},[o("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入内容"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"图片"}},[o("el-upload",{staticClass:"upload-demo",attrs:{action:"http://134.175.154.93:6677/file/upload","file-list":t.fileList,"on-success":t.uploadSuccessHandler,"list-type":"picture"}},[o("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)],1),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{size:"small"},on:{click:t.closeModalHandler}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.submitHandler}},[t._v("确 定")])],1)],1)],1)},r=[],a=o("b775"),l=o("5ee4"),i=o.n(l),s={methods:{toProductDetailHandler:function(t){this.$router.push({path:"/SystemSettings/productDetail",query:{id:t}})},loadData:function(){var t=this,e="http://223.4.183.62:5588/product/findAll";a["a"].get(e).then((function(e){t.products=e.data}))},loadcategry:function(){var t=this,e="http://223.4.183.62:5588/category/findAll";a["a"].get(e).then((function(e){t.options=e.data}))},toAddHandler:function(){this.title="添加产品信息",this.form={type:"product"},this.visible=!0,this.fileList=[]},toUpdateHandler:function(t){this.title="修改产品信息",this.form=t,this.visible=!0,this.fileList=[]},toDeleteHandler:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var o="http://223.4.183.62:5588/product/deleteById?id="+t;a["a"].get(o).then((function(t){e.loadData(),e.$message({type:"success",message:"删除成功!"})}))}))},submitHandler:function(){var t=this,e="http://223.4.183.62:5588/product/saveOrUpdate";Object(a["a"])({url:e,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:i.a.stringify(this.form)}).then((function(e){t.closeModalHandler(),t.loadData(),t.$message({type:"success",message:e.message})}))},closeModalHandler:function(){this.visible=!1},handleSelectionChange:function(t){this.multipleSelection=t},uploadSuccessHandler:function(t){var e="http://134.175.154.93:8888/group1/"+t.data.id;console.log(t),this.form.photo=e}},data:function(){return{title:"",visible:!1,products:[],options:[],form:{type:"product"},fileList:[]}},created:function(){this.loadData(),this.loadcategry()}},c=s,u=o("5511"),p=Object(u["a"])(c,n,r,!1,null,"21c71240",null);e["default"]=p.exports}}]);